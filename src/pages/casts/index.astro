---
import { getCollection } from "astro:content";
import PageHeading from "@components/decoratives/Headings/PageHeading.astro";
import CastListNavigator from "@components/pages/cast/CastListNavigator/CastListNavigator.astro";
import { getMeta } from "@content/meta";
import Layout from "@layouts/Layout.astro";

const castCollection = await getCollection("casts");

const casts = castCollection.map((cast) => cast.data);

const {
  casts: { title, description, keywords, thumbnail },
} = await getMeta();
---

<Layout
  headMeta={{
    title,
    description,
    keywords,
  }}
  ogp={{
    title,
    type: "website",
    image: {
      url: thumbnail,
    },
  }}
  sns={{
    twitter: {
      title,
      description,
      image: thumbnail,
    },
  }}
  defineIcons={["lucide-copyright"]}
>
  <PageHeading img={thumbnail}> {title} </PageHeading>
  <CastListNavigator casts={casts} />
</Layout>
