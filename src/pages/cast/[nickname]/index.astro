---
import CastHeroDevider from "@components/pages/cast/CastHeroSection/CastHeroDevider.astro";
import CastHeroSection from "@components/pages/cast/CastHeroSection/CastHeroSection.astro";
import CastProfileSection from "@components/pages/cast/CastProfileSection/CastProfileSection.astro";
import Layout from "@layouts/Layout.astro";
import { fetchCastNickNames } from "@lib/contents/casts";

export async function getStaticPaths() {
  const castNickNames = await fetchCastNickNames();

  return castNickNames.map((nickname) => ({ params: { nickname } }));
}

const { nickname } = Astro.params;
---

<Layout
  headMeta={{
    title: `キャスト紹介: ${nickname} | ロリっ子喫茶ぷぷりえ`,
    description: `ロリっ子喫茶ぷぷりえのキャスト (${nickname}) を紹介するページです.`,
    keywords: [nickname],
  }}
>
  <CastHeroSection nickname={nickname} />
  <CastHeroDevider />
  <CastProfileSection />
</Layout>
