---
import { PC_VIEWPORT_WIDTH } from "@lib/browsers/breakpoint";

type Media = "pc" | "sp";

interface Props {
  media: Media;
  src: string;
  mediaType: string;
}

const { media: mediaQuery, src, mediaType } = Astro.props;

const media = toMediaQuery(mediaQuery);

function toMediaQuery(media: Media): string | undefined {
  switch (media) {
    case "pc":
      return `(min-width: ${PC_VIEWPORT_WIDTH}px)`;
    case "sp":
      return undefined;
  }
}
---

<source src={src} type={mediaType} media={media} />
