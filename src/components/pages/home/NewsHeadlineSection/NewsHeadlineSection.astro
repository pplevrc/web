---
import LetterLink from "@components/domains/article/LetterLink/LetterLink.astro";
import HomePickupSection from "@components/layouts/Sections/HomePickupSection/HomePickupSection.astro";
import { fetchNewArticles } from "@lib/contents/articles";
import { css } from "@styles/css";

const listStyle = css({
  h: "96",
  display: "flex",
  flexDir: "row",
  alignItems: "center",
  justifyContent: "center",
  gap: "26",
});

const listItemStyle = css({
  w: "[fit-content]",
  h: "[fit-content]",
});

const newArticles = await fetchNewArticles();
---

<HomePickupSection
  title="おしらせ"
  hrefViewMore="/articles"
  themeColor="matcha"
>
  <ul class={listStyle}>
    {
      newArticles.map(({ id, title, thumbnail, thumbnailAlt, publishedAt }) => (
        <li class={listItemStyle}>
          <LetterLink
            href={`/articles/${id}`}
            title={title}
            thumbnail={thumbnail}
            thumbnailAlt={thumbnailAlt}
            publishedAt={publishedAt}
          />
        </li>
      ))
    }
  </ul>
</HomePickupSection>
