<script>
  import {
    getViewportWidth,
    calculateRootFontSize,
    setRootFontSize,
  } from "./scripts";

  function applyNewRootFontSize(e?: Event) {
    console.log(e?.type ?? "script-scope", " resize:", getViewportWidth());
    setRootFontSize(calculateRootFontSize(getViewportWidth()));
  }

  window.addEventListener("orientationchange", applyNewRootFontSize);
  window.addEventListener("resize", applyNewRootFontSize);
  document.addEventListener("astro:after-swap", applyNewRootFontSize);

  applyNewRootFontSize();
</script>

<script is:inline>
  console.log("loaded inline!");
</script>
