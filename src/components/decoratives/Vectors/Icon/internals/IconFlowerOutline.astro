---
import { css } from "@/styles/css";
import { flowerOutlineId } from "../ids";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;
---

<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={flowerOutlineId} viewBox="0 0 24 24">
        <path d="M12 0C7.5 0 6.2 4.2 6.2 4.2s-4.8.5-6 4.6c-1.1 4.2 2.4 6.9 2.4 6.9s-1.5 3.7 1.9 6.8c3.4 3 7.5.3 7.5.3s3.7 2.7 7.2 0c3.6-2.8 2.3-7.2 2.3-7.2s3.6-2.8 2.1-7c-1.4-4.4-5.8-4.4-5.8-4.4S16.5 0 12 0Zm0 1.7c4 0 4.5 4.3 4.5 4.3s4.3-.7 5.5 3.2c1.1 4-2.6 5.8-2.6 5.8s2 3.5-1.1 6.1c-3 2.6-6.3-.6-6.3-.6s-3.3 3.2-6.4.6c-3-2.6-1.1-6.1-1.1-6.1S.8 13.2 2 9.2c1-3.9 5.4-3.1 5.4-3.1s.5-4.4 4.6-4.4zm0 6.5c-2.5 0-4.2 2-4.2 4.4 0 2.5 1.6 4.3 4.2 4.3s4.3-2 4.3-4.3-1.8-4.4-4.3-4.4z" />
      </symbol>
    ) : (
      <use xlink:href={`#${flowerOutlineId}`} />
    )
  }
</svg>
