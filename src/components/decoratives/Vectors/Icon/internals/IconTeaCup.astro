---
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";
import { teacupId } from "../ids";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;
---

<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={teacupId} viewBox="0 0 24 24">
        <path
          d="M5.5 3C3 3 0 4.1 0 8.2c0 2.6 2.5 4.7 5 4.7h1.6a7 7 0 0 0 2.6 3.7H21s2.8-3 2.8-5.3l.1-7c0-.5-.7-1.3-1.3-1.3H5.5ZM5 6c.3 0 .7 0 1.1.2v3.6C4.5 10.6 3 9.5 3 8.3c0-.8.5-2.3 2-2.4zm1 12v1.2c0 1 .9 1.7 1.7 1.7 4.2 0 13.6 0 15-.2.8 0 1.1-.5 1.1-1.2V18z"
          clip-rule="evenodd"
        />
      </symbol>
    ) : (
      <use xlink:href={`#${teacupId}`} />
    )
  }
</svg>
