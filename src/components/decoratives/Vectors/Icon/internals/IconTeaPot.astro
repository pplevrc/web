---
import { css } from "@/styles/css";
import { teapotId } from "../ids";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;
---

<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={teapotId} viewBox="0 0 24 24">
        <path
          d="M12.8 5c-1.1 0-1.1 1.2-1.1 1.2-2.6 0-3.8 2-3.8 2h10s-1.7-1.8-4-2c0 0 0-1.2-1-1.2ZM.2 8.2c-.2.1-.3.5-.1.7.7.8 1.4 1.5 2.3 3.1 1 1.5 1.8 3 3.2 4.3C6.8 17.5 7.5 18 9.2 19h7.7s2.3-1.6 2.8-2.9c3.7-1 4.4-2.9 4.3-4.3-.1-1.5-1-2.8-3-2.8a7 7 0 0 0-2.1.5l-.8-.7H7.7c-1 .4-1.3 1.8-2.3 1.8-1 0-2-1.7-2.7-2.4zm21 2.4c.7 0 1 .7 1 1.5 0 1-.7 2-1.9 2v-1.5c0-.6-.4-1.5-.4-1.5a3 3 0 0 1 1.3-.5z"
          clip-rule="evenodd"
        />
      </symbol>
    ) : (
      <use xlink:href={`#${teapotId}`} />
    )
  }
</svg>
