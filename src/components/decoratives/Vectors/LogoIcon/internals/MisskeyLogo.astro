---
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";
import { hash } from "ohash";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-misskey");
---

<svg
  viewBox="0 0 18 12"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 18 12">
        <path d="M2.2 0C1.9 0 1.7 0 1.4 0.1C1 0.3 0.7 0.5 0.4 0.9C0.1 1.3 0 1.6 0 2.1V9.9C0 10.5 0.2 11 0.6 11.4C1.1 11.8 1.6 12 2.2 12C2.8 12 3.3 11.8 3.8 11.4C4.2 11 4.4 10.5 4.4 9.9V8.5C4.4 8.2 4.7 8.3 4.9 8.5C5.2 9 5.9 9.5 6.7 9.5C7.5 9.5 8.1 9.1 8.4 8.5C8.6 8.3 8.9 8.1 9 8.5V9.9C9 10.5 9.2 11 9.6 11.4C10 11.8 10.6 12 11.2 12C11.8 12 12.3 11.8 12.7 11.4C13.2 11 13.4 10.5 13.4 9.9V2.1C13.4 1.6 13.2 1.3 13 0.9C12.7 0.5 12.4 0.3 11.9 0.1C11.7 0 11.4 0 11.2 0C10.5 0 9.9 0.2 9.5 0.8L7.3 3.2C7.2 3.3 7 3.5 6.7 3.5C6.3 3.5 6.2 3.3 6.1 3.2L3.9 0.8C3.4 0.2 2.9 0 2.2 0ZM16.1 0C15.6 0 15.1 0.2 14.7 0.5C14.4 0.9 14.2 1.3 14.2 1.8C14.2 2.3 14.4 2.7 14.7 3.1C15.1 3.4 15.6 3.6 16.1 3.6C16.6 3.6 17.1 3.4 17.4 3.1C17.8 2.7 18 2.3 18 1.8C18 1.3 17.8 0.9 17.4 0.5C17.1 0.2 16.6 0 16.1 0ZM16.1 4C15.6 4 15.1 4.1 14.8 4.5C14.4 4.9 14.2 5.3 14.2 5.8V10.2C14.2 10.7 14.4 11.1 14.8 11.5C15.1 11.8 15.6 12 16.1 12C16.6 12 17.1 11.8 17.4 11.5C17.8 11.1 18 10.7 18 10.2V5.8C18 5.3 17.8 4.9 17.4 4.5C17.1 4.1 16.6 4 16.1 4Z" />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
