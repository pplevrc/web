---
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";
import { hash } from "ohash";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-vrchat");
---

<svg
  viewBox="0 0 24 10"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 24 10">
        <path d="M 1.3 0 C 0.6 0 0 0.5 0 1.2 V 6.3 C 0 6.9 0.6 7.5 1.3 7.5 H 19.9 l 1.7 2.1 C 21.8 9.9 22 10 22.3 10 c 0.2 0 0.3 -0.1 0.4 -0.2 0.1 -0.1 0.2 -0.3 0.2 -0.5 l -0 -1.9 C 23.5 7.4 24 6.9 24 6.3 V 1.2 C 24 0.5 23.4 0 22.7 0 Z m 0 0.5 H 22.7 c 0.4 0 0.8 0.3 0.8 0.8 v 5 c 0 0.4 -0.4 0.8 -0.8 0.8 h -0.3 v 0 l 0 2.3 c -6e-4 0.1 -0 0.2 -0.1 0.2 -0.1 0 -0.2 -0.1 -0.3 -0.2 L 20.1 7 H 1.3 c -0.4 0 -0.8 -0.3 -0.8 -0.8 v -5 c 0 -0.4 0.4 -0.8 0.8 -0.8 z m 8.1 0.9 c -0.4 0 -0.8 0.3 -0.8 0.8 v 3.2 c 0 0.4 0.4 0.8 0.8 0.8 H 21.5 c 0.4 0 0.8 -0.3 0.8 -0.8 V 2.1 c 0 -0.4 -0.4 -0.8 -0.8 -0.8 z m 7.9 0.3 c 0.2 0 0.4 0.1 0.5 0.2 l 1.1 3.5 c 0 0 0 0 0 0.1 0 0.2 -0.3 0.3 -0.5 0.3 -0.1 0 -0.2 -0 -0.3 -0.1 L 18 4.9 H 16.7 l -0.2 0.7 c -0 0.1 -0.1 0.1 -0.3 0.1 -0.2 0 -0.5 -0.1 -0.5 -0.3 0 -0 0 -0 0 -0.1 l 1.1 -3.5 c 0.1 -0.2 0.3 -0.2 0.5 -0.2 z m -6.8 0 c 0.8 0 1.4 0.4 1.4 1 0 0.3 -0.1 0.4 -0.4 0.4 -0.2 0 -0.4 -0.1 -0.4 -0.2 -0 -0.2 -0.1 -0.5 -0.6 -0.5 -0.4 0 -0.6 0.2 -0.6 0.6 v 1.5 c 0 0.4 0.2 0.6 0.6 0.6 v 0 c 0.5 0 0.6 -0.4 0.6 -0.6 0 -0.2 0.2 -0.2 0.4 -0.2 0.3 0 0.4 0.1 0.4 0.4 0 0.7 -0.6 1.1 -1.4 1.1 -0.7 0 -1.3 -0.3 -1.3 -1.3 V 3 c 0 -0.9 0.6 -1.3 1.3 -1.3 z m -8.3 0 c -0.2 0 -0.5 0.1 -0.5 0.3 0 0 0 0 0 0.1 l 1.1 3.5 c 0.1 0.2 0.3 0.2 0.5 0.2 0.2 0 0.4 -0.1 0.5 -0.2 L 4.9 2.1 c 0 -0 0 -0 0 -0.1 0 -0.2 -0.3 -0.3 -0.5 -0.3 -0.1 0 -0.2 0 -0.3 0.1 L 3.3 4.9 2.4 1.9 C 2.4 1.8 2.3 1.7 2.2 1.7 Z m 3.4 0 c -0.1 0 -0.2 0.1 -0.2 0.2 V 5.5 c 0 0.1 0.2 0.2 0.4 0.2 0.2 0 0.4 -0.1 0.4 -0.2 V 4.1 h 0.5 l 0.8 1.5 c 0.1 0.1 0.2 0.2 0.3 0.2 0.2 0 0.5 -0.2 0.5 -0.4 0 -0 -0 -0.1 -0 -0.1 L 7.4 4 C 7.8 3.9 8.1 3.5 8.1 2.9 8.1 2 7.5 1.7 6.8 1.7 Z m 7.2 0 c 0.2 0 0.4 0.1 0.4 0.2 v 1.4 h 1.3 V 1.9 c 0 -0.2 0.2 -0.2 0.4 -0.2 0.2 0 0.4 0.1 0.4 0.2 V 5.5 c 0 0.1 -0.2 0.2 -0.4 0.2 -0.2 0 -0.4 -0.1 -0.4 -0.2 V 3.9 H 13.2 V 5.5 c 0 0.1 -0.2 0.2 -0.4 0.2 -0.2 0 -0.4 -0.1 -0.4 -0.2 V 1.9 c 0 -0.2 0.2 -0.2 0.4 -0.2 z m 6.2 0 h 2.4 c 0.2 0 0.2 0.2 0.2 0.3 0 0.2 -0.1 0.3 -0.2 0.3 H 20.6 V 5.5 c 0 0.1 -0.2 0.2 -0.4 0.2 -0.2 0 -0.4 -0.1 -0.4 -0.2 V 2.4 H 19 c -0.1 0 -0.2 -0.1 -0.2 -0.3 0 -0.2 0.1 -0.3 0.2 -0.3 z M 6.1 2.4 h 0.6 c 0.4 0 0.6 0.2 0.6 0.6 0 0.4 -0.2 0.6 -0.6 0.6 H 6.1 Z M 17.3 2.6 16.8 4.3 h 1 z" />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
