---
import { hash } from "@lib/utils/random";
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-mastodon");
---

<svg
  viewBox="0 0 18 18"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 18 18">
        <path d="M17.9 4C17.7 2.1 15.9 0.5 13.7 0.2C13.4 0.2 12 0 8.9 0H8.8C5.7 0 5 0.2 4.6 0.2C2.6 0.5 0.7 1.9 0.2 3.8C0 4.8 0 5.9 0 6.9C0.1 8.3 0.1 9.7 0.2 11.1C0.3 12 0.5 12.9 0.7 13.8C1.1 15.5 2.9 16.9 4.6 17.5C6.5 18.1 8.5 18.2 10.4 17.8C10.6 17.7 10.8 17.7 11 17.6C11.5 17.5 12 17.3 12.4 17C12.4 17 12.4 17 12.4 17C12.4 17 12.4 17 12.4 17V15.6C12.4 15.6 12.4 15.6 12.4 15.6C12.4 15.6 12.4 15.6 12.4 15.6C12.4 15.6 12.4 15.6 12.4 15.6C12.4 15.6 12.4 15.6 12.4 15.6C12.4 15.6 12.4 15.6 12.4 15.6C11.2 15.9 9.9 16 8.7 16C6.5 16 5.9 15 5.7 14.6C5.6 14.3 5.5 13.9 5.5 13.6C5.5 13.6 5.5 13.6 5.5 13.6C5.5 13.6 5.5 13.6 5.5 13.6C5.5 13.6 5.5 13.6 5.5 13.6C5.5 13.6 5.5 13.6 5.5 13.6C6.7 13.8 8 13.9 9.2 13.9C9.5 13.9 9.8 13.9 10.1 13.9C11.3 13.9 12.7 13.8 13.9 13.6C13.9 13.6 13.9 13.6 14 13.6C15.9 13.3 17.7 12.2 17.9 9.4C17.9 9.3 17.9 8.3 17.9 8.1C17.9 7.8 18 5.4 17.9 4ZM15 10.9H12.9V6.2C12.9 5.2 12.5 4.7 11.6 4.7C10.6 4.7 10.1 5.3 10.1 6.5V9H8.1V6.5C8.1 5.3 7.6 4.7 6.7 4.7C5.8 4.7 5.3 5.2 5.3 6.2V10.9H3.3V6.1C3.3 5.1 3.6 4.3 4.1 3.7C4.7 3.2 5.4 2.9 6.3 2.9C7.3 2.9 8.1 3.2 8.6 4L9.1 4.8L9.6 4C10.2 3.2 10.9 2.9 12 2.9C12.9 2.9 13.6 3.2 14.2 3.7C14.7 4.3 15 5.1 15 6.1V10.9Z" />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
