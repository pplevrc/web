---
import { hash } from "@lib/utils/random";
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-pixiv-fanbox");
---

<svg
  viewBox="0 0 28 4"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 28 4">
        <path d="M 23.9 0 C 23.8 -0 23.7 0 23.6 0 23.5 0 23.3 0.1 23.1 0.2 c -0.2 0.1 -0.3 0.3 -0.4 0.5 -0.1 0.2 -0.2 0.5 -0.2 0.8 -0 0.2 -0 0.7 -0 0.9 0.1 0.5 0.2 0.9 0.5 1.2 0.2 0.2 0.5 0.3 0.8 0.4 0.5 0 1 -0.2 1.3 -0.8 0.1 -0.2 0.2 -0.4 0.2 -0.7 0 -0.2 0 -0.7 0 -0.9 C 25.2 0.8 24.7 0.2 24.1 0 24.1 0 24 0 23.9 0 Z M 0 0.1 V 3.9 H 0.8 V 2.5 L 1.1 2.5 C 1.4 2.5 1.4 2.5 1.5 2.5 1.9 2.3 2.1 2 2.2 1.6 2.3 1.4 2.3 1.2 2.2 1 2.2 0.6 1.9 0.3 1.6 0.2 1.4 0.1 1.3 0.1 0.6 0.1 Z m 2.7 0 V 3.9 H 3.5 V 0.1 Z m 1.2 0 0 0.1 c 0 0 0.2 0.4 0.4 0.9 C 4.6 1.5 4.7 1.9 4.7 1.9 c 0 0 -0.2 0.5 -0.4 1 l -0.4 1 0.4 0 c 0.2 0 0.4 -0 0.4 -0 0 -0 0.1 -0.3 0.2 -0.6 0.1 -0.3 0.2 -0.6 0.2 -0.6 0 0 0.1 0.3 0.3 0.6 l 0.2 0.6 0.4 0 c 0.2 0 0.4 -1.1e-4 0.4 -0 0 -0 -0.2 -0.5 -0.4 -1 L 5.7 1.9 6.1 1 C 6.3 0.5 6.5 0.1 6.5 0.1 6.5 0.1 6.4 0.1 6.1 0.1 H 5.7 L 5.5 0.7 C 5.3 1.1 5.2 1.2 5.2 1.2 5.2 1.2 5.1 1 5 0.7 l -0.2 -0.5 -0.4 -0 z m 3 0 V 3.9 H 7.8 V 0.1 Z m 1.6 0 c -0.4 0 -0.5 0 -0.5 0 0 0 0.2 0.9 0.4 1.9 0.2 1 0.4 1.9 0.4 1.9 l 0 0 H 10 L 10.4 2 c 0.2 -1 0.4 -1.9 0.4 -1.9 0 -0 -0.1 -0 -0.4 -0 H 10 L 10 0.1 C 10 0.2 9.9 0.8 9.8 1.5 9.5 2.9 9.5 2.9 9.5 2.9 9.5 2.9 9.4 2.2 9.3 1.5 9.1 0.8 9 0.2 9 0.1 l -0 -0 z m 3.6 0 V 3.9 h 0.8 V 2.4 h 0.9 V 1.6 h -0.9 V 0.9 h 0.9 V 0.1 Z m 3.1 0 c -0.3 0 -0.5 0 -0.5 0 0 0 -0.2 0.9 -0.4 1.9 -0.2 1 -0.4 1.9 -0.4 1.9 0 0 0.2 0 0.4 0 0.2 0 0.4 -0 0.4 -0 0 -0 0.1 -0.6 0.1 -0.6 l 0 -0 h 0.8 l 0 0 c 0 0 0 0.2 0.1 0.3 0 0.2 0.1 0.3 0.1 0.3 0 0 0 0 0.4 0 0.4 0 0.4 -0 0.4 -0 -0 -0 -0.9 -3.8 -0.9 -3.8 0 -0 -0.2 -0 -0.5 -0 z m 1.7 0 V 3.9 h 0.7 l -0 -0.5 c -0 -1.4 -0 -1.7 -0 -1.8 0 0 0.2 0.5 0.8 2.3 0 0 0.1 0 0.4 0 H 19.4 V 0.1 h -0.7 l 0 1.2 c 0 0.6 0 1.2 0 1.2 -0 -0 -0.8 -2.1 -0.8 -2.3 L 17.8 0.1 Z m 3 0 V 3.9 h 0.7 c 0.7 0 0.8 -0 1 -0.1 0.2 -0.1 0.4 -0.3 0.5 -0.5 0.1 -0.1 0.1 -0.2 0.1 -0.4 0 -0.3 -0 -0.6 -0.2 -0.8 -0.1 -0.1 -0.2 -0.2 -0.3 -0.2 -0 -0 -0.1 -0 -0.1 -0 -0 -0 0 -0 0 -0 0.1 -0 0.2 -0.2 0.3 -0.3 0.2 -0.2 0.2 -0.7 0 -1 C 21.9 0.3 21.6 0.2 21.3 0.1 21.2 0.1 21 0.1 20.5 0.1 Z m 5.8 0 c -0.2 0 -0.4 0 -0.4 0 0 0 0.2 0.4 0.4 0.9 0.2 0.5 0.4 0.9 0.4 0.9 0 0 -0.2 0.4 -0.4 1 -0.2 0.5 -0.4 1 -0.4 1 -0 0 0.1 0 0.4 0 0.3 0 0.4 -0 0.4 -0 0 -0.1 0.5 -1.2 0.5 -1.2 0 -0 0.1 0.3 0.3 0.6 l 0.3 0.6 h 0.4 c 0.2 0 0.4 -0 0.4 -0 -0 -0 -0.2 -0.5 -0.5 -1 l -0.4 -1 0.8 -1.8 -0.4 -0 c -0.3 -0 -0.4 3e-4 -0.4 0 -0 0 -0.1 0.3 -0.2 0.6 -0.1 0.3 -0.2 0.5 -0.2 0.5 -0 0 -0.1 -0.3 -0.2 -0.6 L 26.2 0.1 Z m -5.1 0.7 h 0.1 c 0.1 0 0.2 0 0.2 0 0.1 0 0.2 0.1 0.3 0.2 0 0 0 0.1 0 0.2 0 0.1 -0 0.2 -0 0.2 -0 0.1 -0.1 0.1 -0.2 0.2 -0.1 0 -0.1 0 -0.3 0 l -0.2 0 z M 0.8 0.8 1 0.8 c 0.2 0 0.2 0 0.3 0 0.1 0.1 0.2 0.2 0.2 0.3 0 0.2 -0 0.4 -0.1 0.5 C 1.2 1.8 1.2 1.8 1 1.8 l -0.2 0 z M 23.9 0.8 c 0 0 0.1 0 0.1 0 0.1 0 0.2 0.1 0.3 0.3 0.1 0.2 0.2 0.5 0.2 0.8 0 0.4 -0 0.6 -0.1 0.8 -0.1 0.1 -0.2 0.2 -0.2 0.3 -0.1 0 -0.2 0 -0.3 -0 -0.2 -0.1 -0.3 -0.3 -0.4 -0.7 -0 -0.1 -0 -0.7 0 -0.8 0.1 -0.4 0.2 -0.6 0.4 -0.7 0.1 -0 0.1 -0 0.2 -0 z m -8.6 0.1 0 0 c 0 0 0.1 0.4 0.2 0.8 0.1 0.4 0.1 0.8 0.1 0.8 0 0 -0.1 0 -0.3 0 -0.2 0 -0.3 -0 -0.3 -0 0 -0 0.3 -1.5 0.3 -1.6 z m 5.5 1.4 0.2 0 c 0.2 0 0.2 0 0.3 0 0.1 0 0.2 0.1 0.2 0.2 0 0.1 0 0.1 0 0.2 -0 0.2 -0 0.2 -0.1 0.3 -0.1 0.1 -0.2 0.1 -0.4 0.1 h -0.2 z" />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
