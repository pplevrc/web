---
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";
import { hash } from "ohash";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-pixiv-vroid-hub");
---

<svg
  viewBox="0 0 28 4"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 28 4">
        <path d="m 12.1 0 c -0.1 0 -0.1 0 -0.2 0 -0.1 0 -0.2 0.1 -0.3 0.2 -0.1 0.1 -0.1 0.3 0 0.4 0.1 0.1 0.2 0.2 0.3 0.2 0.1 0 0.3 0 0.4 -0 0.2 -0.1 0.3 -0.2 0.3 -0.4 0 -0.2 -0.1 -0.3 -0.3 -0.4 C 12.3 0 12.2 -0 12.1 0 Z M 2.9 0.2 2.6 1 C 2.5 1.5 2.2 2.1 2.2 2.4 L 2 2.8 1.1 0.2 0.5 0.2 C 0.1 0.2 -0 0.2 0 0.2 0 0.2 0.3 1 0.7 2.1 l 0.7 1.9 h 1.2 l 0 -0.1 c 0.1 -0.2 1.3 -3.7 1.3 -3.7 0 -0 -0.2 -0 -0.5 -0 z m 1.5 0 V 4 H 5.3 l 0 -0.4 0 -0.4 0.5 -0 0.3 0.4 0.3 0.4 h 0.5 c 0.4 0 0.5 -0 0.5 -0 C 7.6 3.9 7.4 3.7 7.2 3.4 L 6.8 2.9 6.9 2.8 C 7.1 2.7 7.4 2.5 7.5 2.3 7.6 2.1 7.7 1.8 7.7 1.5 7.7 1.3 7.6 1.2 7.5 1 7.4 0.8 7.4 0.8 7.2 0.6 7.1 0.4 6.9 0.4 6.7 0.3 6.4 0.2 6.3 0.2 5.3 0.2 Z m 10.9 0 v 0.5 c 0 0.3 -0 0.5 -0 0.5 -0 0 -0 0 -0.1 -0 -0.2 -0.1 -0.4 -0.1 -0.7 -0.1 -0.4 0 -0.7 0.1 -1 0.4 -0.2 0.2 -0.3 0.4 -0.4 0.7 -0.1 0.2 -0.1 0.6 -0 0.8 0.1 0.2 0.2 0.5 0.4 0.7 0.2 0.2 0.5 0.3 0.8 0.4 0.3 0.1 0.7 0 0.9 -0.1 0.1 -0 0.1 -0 0.1 0 v 0.1 H 16.2 V 0.2 Z m 2.1 0 V 4 h 0.9 V 2.5 h 1.6 v 1.4 h 0.9 V 0.2 H 19.9 V 1.7 H 18.3 V 0.2 Z m 7.4 0 V 4 h 0.9 v -0.1 c 0 -0 0 -0.1 0 -0.1 0 0 0.1 0 0.1 0 0.2 0.1 0.4 0.1 0.6 0.1 0.3 -0 0.4 -0 0.6 -0.2 0.3 -0.1 0.5 -0.3 0.6 -0.6 C 28 2.9 28.1 2.5 27.9 2.1 27.8 1.7 27.4 1.3 27 1.2 26.7 1.1 26.2 1 25.9 1.2 c -0.1 0 -0.1 0 -0.1 0 -0 -0 -0 -0.2 -0 -0.5 V 0.2 Z m -19.5 0.7 0.5 0 0.5 0 0.1 0.1 C 6.5 1 6.6 1.1 6.7 1.3 c 0.1 0.1 0.1 0.1 0.1 0.3 0 0.2 -0 0.2 -0 0.3 -0.1 0.1 -0.2 0.3 -0.4 0.4 l -0.1 0.1 L 5.3 2.4 Z M 9.6 1.1 c -0.1 0 -0.3 0 -0.4 0 -0.6 0.1 -1.1 0.5 -1.2 1.1 -0.1 0.2 -0.1 0.5 -0 0.7 0.1 0.5 0.6 0.9 1.1 1.1 0.2 0.1 0.7 0.1 0.9 -0 0.4 -0.1 0.8 -0.4 1 -0.8 0.1 -0.2 0.2 -0.4 0.2 -0.6 0 -0.2 -0 -0.4 -0.1 -0.6 C 10.9 1.5 10.5 1.2 10 1.1 9.9 1.1 9.8 1.1 9.6 1.1 Z m 2.1 0.1 v 2.8 h 0.9 V 1.2 Z m 9.7 0 0 0.9 c 0 1 0 1 0.2 1.3 0.1 0.2 0.3 0.4 0.5 0.5 0.4 0.2 0.9 0.2 1.2 -0.1 0 -0 0.1 -0 0.1 -0 0 0 0 0 0 0.1 v 0.1 h 0.9 v -2.8 h -0.9 v 0.8 c 0 0.5 -0 0.8 -0 0.8 -0.1 0.3 -0.4 0.5 -0.6 0.4 -0.1 -0 -0.1 -0 -0.2 -0 -0.1 -0 -0.2 -0.1 -0.2 -0.2 -0 -0.1 -0 -0.1 -0 -0.9 l -0 -0.8 z M 14.6 1.7 c 0.1 0 0.1 0 0.2 0 0.3 0.1 0.5 0.3 0.5 0.6 0.1 0.4 -0.1 0.8 -0.4 0.9 -0.1 0.1 -0.1 0.1 -0.3 0.1 -0.2 0 -0.2 -0 -0.3 -0 -0.1 -0.1 -0.3 -0.2 -0.4 -0.4 -0.1 -0.2 -0.1 -0.3 -0.1 -0.5 0 -0.2 0.1 -0.3 0.2 -0.4 0.2 -0.2 0.4 -0.2 0.6 -0.2 z m -5 0 c 0 1.2e-4 0 0 0.1 0 0.1 0 0.2 0 0.3 0.1 C 10.2 2 10.4 2.3 10.4 2.7 10.3 2.9 10.3 3 10.1 3.2 10 3.3 9.8 3.3 9.6 3.3 9.5 3.3 9.4 3.3 9.3 3.3 9 3.1 8.8 2.7 8.9 2.3 8.9 2.1 9.1 1.9 9.3 1.8 9.4 1.8 9.5 1.7 9.6 1.7 Z m 16.8 0 c 0.1 0 0.2 0 0.3 0 0.3 0.1 0.5 0.4 0.5 0.7 0 0.3 -0.1 0.5 -0.3 0.6 -0.4 0.3 -1 0.2 -1.2 -0.3 -0.1 -0.1 -0.1 -0.4 -0 -0.5 0 -0.2 0.2 -0.4 0.4 -0.5 0.1 -0.1 0.3 -0.1 0.4 -0.1 z" />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
