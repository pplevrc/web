---
import { css } from "@styles/css";
import type { HTMLAttributes } from "astro/types";
import { hash } from "ohash";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;
}

const { definition = false, class: className, ...props } = Astro.props;

const symbolId = hash("logo-icon-pixiv-booth");
---

<svg
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
  class:list={[className, css({ fill: "[currentColor]" })]}
  {...props}
>
  {
    definition ? (
      <symbol id={symbolId} viewBox="0 0 16 16">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.5 6.2V4.9L11.5 0H10.4L8.7 4L7.1 0.6L6.2 0.6L3.4 7.2V0.9H1.5V1.5H0V3.4H1.5V9C1.5 9.5 1.9 9.9 2.4 9.9H3.3V16L5.2 16C5.2 16 5.2 13.2 5.2 13.2C5.2 11.7 6.6 10.4 8.2 10.4C8.2 10.4 8.2 10.4 8.2 10.4H8.2H8.2H8.2C10.9 10.4 13.1 12.5 13.1 15V16H14.5V10.5H16V7.4L14.5 6.2Z"
        />
      </symbol>
    ) : (
      <use xlink:href={`#${symbolId}`} />
    )
  }
</svg>
