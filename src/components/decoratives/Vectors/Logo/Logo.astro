---
import type { HTMLAttributes } from "astro/types";
import PpleLogo from "./internals/PpleLogo.astro";
import VRChatLogo from "./internals/VRChatLogo.astro";
import type { LogoType } from "./types";

interface Props extends HTMLAttributes<"svg"> {
  /**
   * SVG を `<symbol>` として定義するかどうか.
   * `true` にすると、`<symbol>` が返され, アイコンの SVG 定義が含まれます.
   * `false` にすると、`<use>` が返され, 事前に定義された SVG を参照します.
   */
  definition?: boolean;

  /**
   * ロゴの種類.
   */
  type: LogoType;
}

const { type, ...props } = Astro.props;

const LogoComponent = (() => {
  switch (type) {
    case "pple":
      return PpleLogo;
    case "vrchat":
      return VRChatLogo;
    default:
      throw new Error(`Logo type ${type} is not supported`);
  }
})();
---

<LogoComponent {...props} />
